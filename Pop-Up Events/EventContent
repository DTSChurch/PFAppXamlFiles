<StackLayout>
{% eventcalendaritem where:'EventCalendarId == 1' sort:'StartDateTime desc' securityenabled:'false' %}
    {%- for item in eventcalendaritemItems -%}
        <StackLayout WidthRequest="180">
                <StackLayout.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding PushPage}" CommandParameter="63839327-b59a-439d-93aa-65bc09821143?ItemId={{ item.Id}}" />
                </StackLayout.GestureRecognizers>
            <Grid RowSpacing="0" ColumnSpacing="0" Margin="10,0,10,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Rock:StyledView BackgroundColor="{Rock:PaletteColor App-Primary}"
                    CornerRadius="9,0,0,0"
                    HasShadow="true"
                    Elevation="3"
                    Margin="0,0,0,0"
                    HeightRequest="60"
                    Grid.Row="0"
                    Grid.Column="0" >
                    <Label Text="TopLeft" Margin="10,5,10,5" HorizontalTextAlignment="Center"  VerticalTextAlignment="Center" Grid.Row="0" Grid.Column="0" StyleClass="text-sm, leading-none, text-bold"/>
                </Rock:StyledView>

                <Rock:StyledView BackgroundColor="{Rock:PaletteColor App-Dark}"
                    CornerRadius="0,0,9,0"
                    HasShadow="true"
                    Elevation="3"
                    Margin="0,0,0,0"
                    HeightRequest="60"
                    Grid.Row="1"
                    Grid.Column="0">
                
                    <Label Text="Jan '21"  Margin="10,5,10,5" HorizontalTextAlignment="Center" VerticalTextAlignment="Center" Grid.Row="1" Grid.Column="1" StyleClass="heading4, leading-none"/>
                </Rock:StyledView>

                <Rock:StyledView BackgroundColor="{Rock:PaletteColor App-Secondary}"
                    CornerRadius="0,9,0,9"
                    HasShadow="true"
                    Elevation="3"
                    Margin="0,0,0,0"
                    HeightRequest="60"
                    Grid.Row="0"
                    Grid.Column="1"
                    Grid.RowSpan="2"
                    Grid.ColumnSpan="3" >
					<Label Text="{{item.EventItem.Name | Escape}}" Margin="10,5,10,5" Grid.Row="0" Grid.Column="1" StyleClass="heading4, leading-none, text-bold"/>
                    <Label Text="{{item.EventItem.NestStartDate | Escape}}" Margin="10,35,10,5" Grid.Row="0" Grid.Column="1" StyleClass="heading4, leading-none, text-bold"/>
                    <Label Text="{{item.EventItem.Summary |TruncateWords:5 | Escape}}" Margin="10,5,10,5" Grid.Row="1" Grid.Column="1" StyleClass="heading4, leading-none, text-bold"/>
                </Rock:StyledView>
                    
                    <Rock:FollowingIcon EntityTypeId="{{ item.TypeId }}"
                        EntityId="{{ item.Id }}"
                        FontSize="25"
                        IsFollowed="{{ item | IsFollowed }}"
                        FollowingIconColor="{Rock:PaletteColor App-Primary}"
                        NotFollowingIconColor="{Rock:PaletteColor App-Primary}" 
                        Grid.Row="1"
                        Grid.Column="3"
                        Margin="0,20,10,0"
                        HorizontalTextAlignment="Right"
                        VerticalTextAlignment="End" />

            </Grid>
        </StackLayout>
    {%- endfor -%}
{% endeventcalendaritem %}
</StackLayout>
